webpackJsonp([11],{"+R9m":function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("//Fk"),a=t.n(i),n=t("NYxO"),o=t("jvWE"),r={computed:Object(n.b)(["userInformationObj","occupationList","educationList","provinceList","cityList"]),data:function(){return{marriageId:"0",sexId:"0",userInfo:{},occupationOptions:[],showUpdate:!1,provinceId:"",headImg:""}},created:function(){this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.userInfo&&this.initUserInformation()},methods:{initUserInformation:function(){var e=this,s={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",token:this.userInfo.token,sm_ui_ID:this.userInfo.sm_ui_ID};this.$store.dispatch("initUserInformation",s).then(function(){},function(s){e.$notify({message:s,type:"error"})})},update:function(){this.showUpdate||(this.uploaNode(),this.showUpdate=!0,this.initOccupation(),this.initEducation(),this.initProvince(),this.initCity(this.userInfo.sm_ui_Provice),this.marriageId=this.userInfo.sm_ui_MarryStatus+"",this.sexId=this.userInfo.sm_ui_Sex+"")},initOccupation:function(){var e=this;this.$store.dispatch("initOccupation",{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",parentID:"38"}).then(function(){},function(s){e.$notify({message:s,type:"error"})})},initEducation:function(){var e=this;this.$store.dispatch("initEducation",{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",ui_jb_ParentID:"39"}).then(function(){},function(s){e.$notify({message:s,type:"error"})})},initProvince:function(){var e=this;this.$store.dispatch("initProvince",{areaPid:3337}).then(function(){},function(s){e.$notify({message:s,type:"error"})})},changeProvince:function(e){this.provinceId=e,this.initCity(e)},initCity:function(e){var s=this,t={areaPid:e};this.$store.dispatch("initCity",t).then(function(){},function(e){s.$notify({message:e,type:"error"})})},updateSubmit:function(){var e=this;this.userInfo.sm_ui_MarryStatus=this.marriageId,this.userInfo.sm_ui_Sex=this.sexId,this.userInfo.sm_ui_JobID=this.occupationOptions.length?this.occupationOptions[this.occupationOptions.length-1]:this.userInfo.sm_ui_JobID,this.headImg?this.userInfo.sm_ui_HeadImage=this.headImg:this.userInfo.sm_ui_HeadImage=this.userInfo.sm_ui_HeadImage;var s={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",token:this.userInfo.token,data:this.userInfo};this.$store.dispatch("updateUserInfoSubmit",s).then(function(s){e.$notify({message:s,type:"success"}),location.reload()},function(s){e.$notify({message:s,type:"error"})})},uploadToOSS:function(e){return new a.a(function(s,t){var i=new FormData;i.append("fileToUpload",e);var a=new XMLHttpRequest;a.open("POST",o.a+"/OSSFile/PostToOSS"),a.send(i),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status&&a.responseText){var e=a.responseText;s(JSON.parse(e))}}})},uploaNode:function(){var e=this;this.headImg="",setTimeout(function(){e.$refs.upload&&e.$refs.upload.addEventListener("change",function(s){for(var t=0;t<e.$refs.upload.files.length;t++)e.uploadToOSS(e.$refs.upload.files[t]).then(function(s){s?e.headImg=s.data:e.$notify({message:"图片地址不存在!",type:"error"})})})},30)}}},u={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"userInformation"},[t("strong",[e._v("基本信息")]),e._v(" "),t("div",{staticClass:"information"},[t("ul",{staticClass:"informationList"},[t("li",{staticClass:"headImage"},[t("strong",{staticClass:"lettor"},[e._v("头像")]),t("em",[e._v(" :")]),t("span",[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.userInformationObj.sm_ui_HeadImage,expression:"userInformationObj.sm_ui_HeadImage"}],attrs:{width:"100",height:"100"}})])]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("昵称")]),t("em",[e._v(" :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_Name))])]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("性别")]),t("em",[e._v(" :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_SexName))])]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("生日")]),t("em",[e._v(" :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_Birthday))])]),e._v(" "),t("li",[t("strong",[e._v("所 在 省 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_ProviceName))])]),e._v(" "),t("li",[t("strong",[e._v("所 在 市 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_CityName))])]),e._v(" "),t("li",[t("strong",[e._v("详细地址 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_Address))])]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("学历")]),t("em",[e._v(" :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_EducationName))])]),e._v(" "),t("li",[t("strong",[e._v("婚姻状况 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_Marray))])]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("职业")]),t("em",[e._v(" :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_JobName))])]),e._v(" "),t("li",[t("strong",[e._v("电话号码 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_Phone))])]),e._v(" "),t("li",[t("strong",[e._v("电子邮箱 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_Email))])]),e._v(" "),t("li",[t("strong",[e._v("身份证号 :")]),t("span",[e._v(e._s(e.userInformationObj.sm_ui_CertNo))])])]),e._v(" "),t("a",{attrs:{href:"javascript:;"},on:{click:e.update}},[e._v("修改")]),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.showUpdate,expression:"showUpdate"}],staticClass:"updateInformation"},[t("li",{staticClass:"showTopPic"},[t("strong",[e._v("上传头像 :")]),e._v(" "),t("span",[t("a",{staticClass:"file",attrs:{href:"javascript:;"}},[e._v("上传图片\n              "),t("input",{ref:"upload",attrs:{type:"file",name:"",accept:"image/*"}})]),e._v(" "),t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.headImg,expression:"headImg"},{name:"show",rawName:"v-show",value:e.headImg,expression:"headImg"}],attrs:{width:"100",height:"100"}})])]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("昵称")]),t("em",[e._v(" :")]),t("span",[t("el-input",{attrs:{size:"mini",placeholder:"请输入昵称"},model:{value:e.userInfo.sm_ui_Name,callback:function(s){e.$set(e.userInfo,"sm_ui_Name",s)},expression:"userInfo.sm_ui_Name"}})],1)]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("性别")]),t("em",[e._v(" :")]),t("span",[t("el-radio",{attrs:{label:"0"},model:{value:e.sexId,callback:function(s){e.sexId=s},expression:"sexId"}},[e._v("女")]),e._v(" "),t("el-radio",{attrs:{label:"1"},model:{value:e.sexId,callback:function(s){e.sexId=s},expression:"sexId"}},[e._v("男")])],1)]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("生日")]),t("em",[e._v(" :")]),t("span",[t("div",{staticClass:"block",staticStyle:{width:"170px"}},[t("el-date-picker",{attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.userInfo.sm_ui_Birthday,callback:function(s){e.$set(e.userInfo,"sm_ui_Birthday",s)},expression:"userInfo.sm_ui_Birthday"}})],1)])]),e._v(" "),t("li",[t("strong",[e._v("所 在 省 :")]),t("span",[t("el-select",{attrs:{placeholder:"请选择省",size:"mini"},on:{change:e.changeProvince},model:{value:e.userInfo.sm_ui_Provice,callback:function(s){e.$set(e.userInfo,"sm_ui_Provice",s)},expression:"userInfo.sm_ui_Provice"}},e._l(e.provinceList,function(e){return t("el-option",{key:e.sm_af_AreaID,attrs:{label:e.sm_af_AreaName,value:e.sm_af_AreaID}})}))],1)]),e._v(" "),t("li",[t("strong",[e._v("所 在 市 :")]),t("span",[t("el-select",{attrs:{placeholder:"请选择市",size:"mini"},model:{value:e.userInfo.sm_ui_City,callback:function(s){e.$set(e.userInfo,"sm_ui_City",s)},expression:"userInfo.sm_ui_City"}},e._l(e.cityList,function(e){return t("el-option",{key:e.sm_af_AreaID,attrs:{label:e.sm_af_AreaName,value:e.sm_af_AreaID}})}))],1)]),e._v(" "),t("li",[t("strong",[e._v("详细地址 :")]),t("span",[t("el-input",{attrs:{size:"mini",placeholder:"请输入详细地址"},model:{value:e.userInfo.sm_ui_Address,callback:function(s){e.$set(e.userInfo,"sm_ui_Address",s)},expression:"userInfo.sm_ui_Address"}})],1)]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("学历")]),t("em",[e._v(" :")]),t("span",[t("el-select",{attrs:{placeholder:"请选择学历",size:"mini"},model:{value:e.userInfo.sm_ui_EducationID,callback:function(s){e.$set(e.userInfo,"sm_ui_EducationID",s)},expression:"userInfo.sm_ui_EducationID"}},e._l(e.educationList,function(e){return t("el-option",{key:e.ts_jb_ID,attrs:{label:e.ts_jb_Name,value:e.ts_jb_ID}})}))],1)]),e._v(" "),t("li",[t("strong",[e._v("婚姻状况 :")]),t("span",[t("el-radio",{attrs:{label:"0"},model:{value:e.marriageId,callback:function(s){e.marriageId=s},expression:"marriageId"}},[e._v("未婚")]),e._v(" "),t("el-radio",{attrs:{label:"1"},model:{value:e.marriageId,callback:function(s){e.marriageId=s},expression:"marriageId"}},[e._v("已婚")])],1)]),e._v(" "),t("li",[t("strong",{staticClass:"lettor"},[e._v("职业")]),t("em",[e._v(" :")]),t("span",[t("el-cascader",{attrs:{size:"mini","show-all-levels":!1,options:e.occupationList},model:{value:e.occupationOptions,callback:function(s){e.occupationOptions=s},expression:"occupationOptions"}})],1)]),e._v(" "),t("li",[t("strong",[e._v("电话号码 :")]),t("span",[t("el-input",{attrs:{size:"mini",placeholder:"请输入手机号"},model:{value:e.userInfo.sm_ui_Phone,callback:function(s){e.$set(e.userInfo,"sm_ui_Phone",s)},expression:"userInfo.sm_ui_Phone"}})],1)]),e._v(" "),t("li",[t("strong",[e._v("电子邮箱 :")]),t("span",[t("el-input",{attrs:{size:"mini",placeholder:"请输入电子邮箱"},model:{value:e.userInfo.sm_ui_Email,callback:function(s){e.$set(e.userInfo,"sm_ui_Email",s)},expression:"userInfo.sm_ui_Email"}})],1)]),e._v(" "),t("li",[t("strong",[e._v("身份证号 :")]),t("span",[t("el-input",{attrs:{size:"mini",placeholder:"请输入身份证号"},model:{value:e.userInfo.sm_ui_CertNo,callback:function(s){e.$set(e.userInfo,"sm_ui_CertNo",s)},expression:"userInfo.sm_ui_CertNo"}})],1)]),e._v(" "),t("li",{staticClass:"updateSubmit"},[t("button",{on:{click:e.updateSubmit}},[e._v("提交")])])])])])])},staticRenderFns:[]};var l=t("VU/8")(r,u,!1,function(e){t("WUWw")},"data-v-00efa6b6",null);s.default=l.exports},WUWw:function(e,s){}});