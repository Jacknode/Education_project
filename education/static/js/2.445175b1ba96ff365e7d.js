webpackJsonp([2],{"+vEQ":function(e,t,s){e.exports=s.p+"static/img/video.7c6604a.png"},Jl54:function(e,t){},vtyW:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("NYxO"),a={computed:Object(i.b)(["playVideoList","recommendDataList"]),data:function(){return{choiceValue:0,videoId:0,videoBox:{},showPlay:!0,videoIndex:0,userInfo:{},commentContent:""}},created:function(){this.videoId=this.$route.query.id,this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.initData(),this.initRecommend()},methods:{initData:function(){var e=this;console.log("this.videoId:",this.videoId);var t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",token:"",ed_vo_ID:this.videoId};this.$store.dispatch("initPlayVideo",t).then(function(){if(!e.playVideoList.length){var t=e.$router.resolve({name:"404"}).href;return window.open(t,"_blank"),void e.$router.push({name:"Home"})}e.videoBox=e.playVideoList[0]},function(t){e.$notify({message:t,type:"error"})})},playVideoBtn:function(){this.showPlay=!1,this.$refs.videoWrap.play()},changeVideo:function(e,t){this.videoBox=e,this.videoIndex=t,this.showPlay=!0},initRecommend:function(){var e=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",page:"1",rows:"10",ed_se_ID:"",ed_se_VedioID:this.videoId,ed_se_UserID:"",ed_se_Score:""};this.$store.dispatch("initRecommend",t).then(function(){},function(t){e.$notify({message:t,type:"error"})})},addRecommend:function(){var e=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ed_se_VedioID:this.videoId,ed_se_UserID:this.userInfo.sm_ui_ID,ed_se_Score:this.choiceValue,ed_se_Comment:this.commentContent,ed_se_UserHead:this.userInfo.sm_ui_HeadImage,ed_se_UserName:this.userInfo.sm_ui_Name}};this.$store.dispatch("addRecommend",t).then(function(t){e.$notify({message:t,type:"success"}),e.initRecommend(),e.commentContent="",e.choiceValue=0},function(t){e.$notify({message:t,type:"error"})})}},mounted:function(){for(var e=this,t=document.getElementById("classList"),s=t.children,i=0,a=0,o=0;o<s.length;o++)i+=s[o].offsetWidth;t.style.width=i+"px";var n=document.getElementById("lastIcon"),c=document.getElementById("nextIcon");n.onclick=function(){a<=0?e.$notify({message:"已经是最前面了!!",type:"error"}):(a--,t.style.transform="translateX(-"+804*a+"px)")},c.onclick=function(){804*a>=i-804?e.$notify({message:"没有更多视频了!!",type:"error"}):(a++,t.style.transform="translateX(-"+804*a+"px)")},document.addEventListener("keydown",function(t){13==t.keyCode&&e.addRecommend()})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"playWrap"},[i("div",{staticClass:"playBox"},[i("div",{staticClass:"titlePart clearfix"},[i("strong",[e._v(e._s(e.videoBox.ed_vo_Title))]),e._v(" "),i("a",{attrs:{href:"javascript:;"}},[e._v("<返回课程主页")])]),e._v(" "),i("div",{staticClass:"videoPart clearfix"},[i("div",{staticClass:"playVideoBox"},[i("video",{ref:"videoWrap",attrs:{src:e.videoBox.ed_vo_FileURL,width:"880",height:"500",controls:"controls"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPlay,expression:"showPlay"}],staticClass:"videoIcon"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.videoBox.ed_vo_ImageURL,expression:"videoBox.ed_vo_ImageURL"}],attrs:{width:"880",height:"500"}}),e._v(" "),i("div",{on:{click:e.playVideoBtn}})])]),e._v(" "),i("div",{staticClass:"catalogVideo"},[i("strong",[e._v("目录")]),e._v(" "),i("ul",{staticClass:"videoMenu"},e._l(e.playVideoList,function(t,s){return i("li",{staticClass:"clearfix",class:{active:e.videoIndex==s},on:{click:function(i){e.changeVideo(t,s)}}},[i("span",[e._v(e._s(t.ed_vo_Title))]),e._v(" "),i("i")])}))])]),e._v(" "),e._m(0)])]),e._v(" "),i("section",[i("div",{staticClass:"sectionContents clearfix"},[i("div",{staticClass:"aboutVideo"},[e._m(1),e._v(" "),i("p",[e._v(e._s(e.videoBox.ed_vo_Introduce))]),e._v(" "),i("div",{staticClass:"aboutClass"},[i("strong",[e._v("相关课程")]),e._v(" "),i("div",{staticClass:"clearfix"},[e._m(2),e._v(" "),i("div",{staticClass:"classList"},[i("ul",{staticClass:"clearfix",attrs:{id:"classList"}},e._l(3,function(t,a){return i("li",[i("img",{attrs:{src:s("+vEQ"),width:"230",height:"160"}}),e._v(" "),i("strong",[e._v("高考语文高分复习指导")]),e._v(" "),e._m(3,!0)])}))]),e._v(" "),e._m(4)])])]),e._v(" "),i("div",{staticClass:"commentStudent"},[i("strong",[e._v("学员评价("+e._s(e.recommendDataList.length)+")")]),e._v(" "),i("ul",{staticClass:"commentList"},[i("li",{directives:[{name:"show",rawName:"v-show",value:!e.recommendDataList.length,expression:"!recommendDataList.length"}],staticClass:"noData"},[e._v("暂无评论")]),e._v(" "),e._l(e.recommendDataList,function(t,s){return i("li",{staticClass:"clearfix"},[i("div",{staticClass:"studentIcon"},[i("div",{staticClass:"headerIcon",style:{backgroundImage:"url("+t.ed_se_UserHead+")"}}),e._v(" "),i("span",[e._v(e._s(t.ed_se_UserName))])]),e._v(" "),i("div",{staticClass:"commentContent"},[i("div",{staticClass:"starBox"},[i("el-rate",{attrs:{disabled:"","disabled-void-color":"#999999",colors:["#e8751a","#e8751a","#e8751a"],"score-template":"{value}"},model:{value:t.ed_se_Score,callback:function(s){e.$set(t,"ed_se_Score",s)},expression:"item.ed_se_Score"}})],1),e._v(" "),i("p",[e._v(e._s(t.ed_se_Comment))])])])})],2),e._v(" "),i("div",{staticClass:"commentRegion"},[i("div",{staticClass:"pushComment clearfix"},[i("span",[e._v("发表评论")]),e._v(" "),i("div",{staticClass:"publishStar"},[i("el-rate",{attrs:{"show-text":"",texts:["1分","2分","3分","4分","5分"],"text-color":"#e8751a",colors:["#99A9BF","#F7BA2A","#FF9900"]},model:{value:e.choiceValue,callback:function(t){e.choiceValue=t},expression:"choiceValue"}})],1)]),e._v(" "),i("div",{staticClass:"commentCon clearfix"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentContent,expression:"commentContent"}],attrs:{placeholder:"我也说一句..."},domProps:{value:e.commentContent},on:{input:function(t){t.target.composing||(e.commentContent=t.target.value)}}}),e._v(" "),i("button",{on:{click:e.addRecommend}},[e._v("发表")])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"videoOperation clearfix"},[t("div",{staticClass:"collection"},[t("i"),t("span",[this._v("收藏")])]),this._v(" "),t("div",{staticClass:"share"},[t("i"),t("span",[this._v("分享")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"clearfix"},[t("a",{staticClass:"active",attrs:{href:"javascript:;"}},[this._v("本节介绍")]),this._v(" "),t("a",{attrs:{href:"javascript:;"}},[this._v("资料下载")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"leftLast",attrs:{id:"lastIcon"}},[t("i")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"clearfix"},[t("span",[this._v("免费")]),this._v(" "),t("a",{attrs:{href:"javascript:;"}},[this._v("开始学习")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"rightNext",attrs:{id:"nextIcon"}},[t("i")])}]};var n=s("VU/8")(a,o,!1,function(e){s("Jl54")},"data-v-550859c2",null);t.default=n.exports}});