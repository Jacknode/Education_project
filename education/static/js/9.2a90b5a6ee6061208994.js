webpackJsonp([9],{DO9W:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("NYxO"),s={computed:Object(i.b)([]),data:function(){return{centerDialogVisible:!1,text:"",timer:null,hide:!1,user:{},type:"",i:!1,isLoad:0,timer1:null,seriesId:"2",orderId:"2",account:"",userInfo:"",orderInfo:""}},created:function(){sessionStorage.getItem("orderInfo")&&(this.orderInfo=JSON.parse(sessionStorage.getItem("orderInfo"))),sessionStorage.getItem("userInfo")&&(this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")))},methods:{initPay:function(){console.log("orderInfo:",this.orderInfo);var e={userID:"qianke",password:"qianke123",stationID:"qianlidagzh",money:this.orderInfo.ed_oi_Price};return this.$store.dispatch("payAction",e)},changePay:function(){this.$router.push({name:"PayOrder"}),window.location.reload()}},mounted:function(){var e=this;this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.account=this.userInfo.sm_ui_Name;var t=new QRCode(this.$refs.ewm,{width:200,height:200}),r=this.orderInfo;r.ed_oi_Price=parseInt(r.ed_oi_Price),r&&(this.orderInfo=r,r.ed_oi_Number,r.ed_oi_Number),0==this.i&&setTimeout(function(){0==r.ed_oi_PayState?e.initPay().then(function(r){t.makeCode(r.list),e.isLoad>0||(clearInterval(e.timer),e.timer=setInterval(function(){var t={userID:"qianke",password:"qianke123",stationID:"qianlidagzh",orderNo:r.backstring};e.$store.dispatch("getOrderStatus",t).then(function(t){if(!(e.isLoad>0)&&"SUCCESS"==t.list){clearInterval(e.timer),e.isLoad++;var r={loginUserID:"huileyou",loginUserPass:"123",operateUserName:"",pcName:"",token:e.userInfo.token,operateUserID:e.orderInfo.ed_oi_ID,ed_oi_Number:e.orderInfo.ed_oi_Number,payWay:"微信支付"};e.$store.dispatch("wechatPayWay",r).then(function(t){e.$notify({message:t,type:"success"}),e.$router.push({name:"PlayVideo",query:{id:e.orderInfo.ed_oi_ID}}),clearInterval(e.timer)},function(t){e.$notify({message:t,type:"error"})})}})},300))}):e.$notify({title:"警告",message:"订单已支付！",type:"warning"})},30),this.i=!0}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"wrap"}},[r("div",{attrs:{id:"wrapContent"}},[r("strong",[e._v("订单支付")]),e._v(" "),r("div",{staticClass:"payOrder"},[e._m(0),e._v(" "),r("div",{staticClass:"clearfix"},[r("span",[e._v("当前账号为: ")]),e._v(" "),r("strong",[e._v(e._s(e.account))]),e._v(" "),r("router-link",{attrs:{to:{path:"orderDetails",query:{seriesId:e.seriesId}}}},[e._v("查看我的订单")])],1)]),e._v(" "),r("div",{staticClass:"sweepQRCodeBoxWrap"},[r("div",{staticClass:"sweepQRCodeBox"},[r("div",{ref:"ewm",attrs:{id:"QRCode"}})]),e._v(" "),r("a",{attrs:{href:"javascript:;"},on:{click:e.changePay}},[e._v(">择其他支付方式")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("strong",[t("i"),this._v("订单提交成功！请您尽快支付！")])}]};var n=r("VU/8")(s,o,!1,function(e){r("kUHH")},"data-v-0c474b29",null);t.default=n.exports},kUHH:function(e,t){}});